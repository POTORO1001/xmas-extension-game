<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>PO„ÉªTORO „ÇØ„É™„Çπ„Éû„ÇπÂª∂Èï∑„Åè„Åò</title>
  <meta name="format-detection" content="telephone=no" />
  <style>
    :root {
      --bg-top: #ffedf3;
      --bg-bottom: #ffe2f0;
      --accent: #e63972;
      --accent-dark: #c0275a;
      --text-main: #402020;
      --card-bg: #fffdf9;
      --shadow-soft: 0 8px 20px rgba(0,0,0,.18);
      --ok: #f7b500;
      --sub: #ff6f91;
      --ng: #c0c0c0;
      --xmas-green: #0f8b4c;
      --xmas-red: #e3254b;
      --xmas-gold: #ffd56b;
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Ê∏∏„Ç¥„Ç∑„ÉÉ„ÇØ‰Ωì", "Yu Gothic", sans-serif;
      background:
        radial-gradient(circle at 10% 0, rgba(255,255,255,0.8), transparent 55%),
        radial-gradient(circle at 90% 0, rgba(255,255,255,0.8), transparent 55%),
        linear-gradient(180deg, var(--bg-top), var(--bg-bottom));
      color: var(--text-main);
      overflow: hidden;
    }

    body {
      display: flex;
      align-items: stretch;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 768px;
      margin: 0 auto;
      padding: 10px 10px 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }

    /* ===== Èõ™„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ ===== */
    .snow-layer {
      pointer-events: none;
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 1;
    }

    .snow {
      position: absolute;
      top: -10px;
      font-size: 16px;
      color: rgba(255,255,255,0.9);
      text-shadow: 0 0 6px rgba(0,0,0,0.35);
      animation: fall linear infinite;
    }

    .snow:nth-child(1)  { left: 5%;  animation-duration: 9s;  animation-delay: 0s; }
    .snow:nth-child(2)  { left: 20%; animation-duration: 11s; animation-delay: -2s; }
    .snow:nth-child(3)  { left: 35%; animation-duration: 8s;  animation-delay: -4s; }
    .snow:nth-child(4)  { left: 50%; animation-duration: 10s; animation-delay: -1s; }
    .snow:nth-child(5)  { left: 65%; animation-duration: 12s; animation-delay: -5s; }
    .snow:nth-child(6)  { left: 80%; animation-duration: 9.5s;animation-delay: -3s; }
    .snow:nth-child(7)  { left: 15%; animation-duration: 13s; animation-delay: -6s; }
    .snow:nth-child(8)  { left: 55%; animation-duration: 7.5s;animation-delay: -7s; }

    @keyframes fall {
      0%   { transform: translateY(-10px); opacity: 0; }
      10%  { opacity: 1; }
      100% { transform: translateY(110vh); opacity: 0; }
    }

    /* ===== „Éò„ÉÉ„ÉÄ„ÉºÔºè„Éê„Éä„Éº ===== */
    .header {
      position: relative;
      z-index: 2;
      text-align: center;
      padding: 4px 8px 0;
    }

    .xmas-banner {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 20px;
      border-radius: 999px;
      background:
        linear-gradient(120deg, #0f8b4c, #2ecc71 40%, #ffd56b 60%, #e3254b 90%);
      box-shadow: 0 8px 18px rgba(0,0,0,.25);
      margin-bottom: 6px;
      overflow: hidden;
    }

    .xmas-banner::before,
    .xmas-banner::after {
      content: "‚òÖ";
      position: absolute;
      font-size: 20px;
      color: rgba(255,255,255,0.85);
    }

    .xmas-banner::before {
      left: 12px;
      transform: rotate(-15deg);
    }

    .xmas-banner::after {
      right: 12px;
      transform: rotate(15deg);
    }

    .logo-text {
      font-weight: 900;
      font-size: 24px;
      letter-spacing: .18em;
      text-transform: uppercase;
      padding-right: .18em;
      color: #fff;
    }

    .logo-text span {
      background: linear-gradient(90deg, #fff7c0, #ffffff);
      -webkit-background-clip: text;
      color: transparent;
      text-shadow: 0 0 8px rgba(0,0,0,.35);
    }

    .subtitle {
      font-size: 16px;
      margin-top: 2px;
      color: #fff5f5;
      text-shadow: 0 0 8px rgba(0,0,0,.35);
      font-weight: 600;
    }

    .subtitle strong {
      color: #ffe46b;
    }

    .subline {
      font-size: 13px;
      margin-top: 4px;
      color: #fff;
      opacity: .95;
    }

    /* ===== „É°„Ç§„É≥„Ç´„Éº„Éâ ===== */
    .main-card {
      position: relative;
      z-index: 2;
      flex: 1;
      margin-top: 4px;
      background: radial-gradient(circle at 10% 0, #ffffff, #ffe6f5);
      border-radius: 20px;
      box-shadow:
        0 18px 40px rgba(0,0,0,.35),
        0 0 0 3px rgba(255,255,255,0.9),
        0 0 0 6px rgba(227,37,75,0.35);
      padding: 14px 14px 18px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: space-between;
      overflow: hidden;
    }

    .card-garland {
      position: absolute;
      top: -8px;
      left: -10px;
      right: -10px;
      height: 40px;
      background:
        radial-gradient(circle at 10% 30%, #ffd56b, transparent 55%),
        radial-gradient(circle at 35% 0, #ff6f91, transparent 55%),
        radial-gradient(circle at 60% 20%, #ffffff, transparent 55%),
        radial-gradient(circle at 85% 10%, #ffd56b, transparent 55%),
        linear-gradient(90deg, #0f8b4c, #187a3b);
      clip-path: polygon(0 0, 100% 0, 100% 60%, 95% 100%, 90% 60%, 80% 100%, 70% 60%, 60% 100%, 50% 60%, 40% 100%, 30% 60%, 20% 100%, 10% 60%, 5% 100%, 0 60%);
      box-shadow: 0 6px 12px rgba(0,0,0,.35);
    }

    .ribbon-label {
      position: absolute;
      top: 12px;
      right: -22px;
      transform: rotate(12deg);
      background: linear-gradient(90deg, #e3254b, #ff6f91);
      color: #fff;
      padding: 5px 40px;
      font-size: 11px;
      font-weight: 800;
      letter-spacing: .16em;
      text-transform: uppercase;
      box-shadow: 0 4px 10px rgba(0,0,0,.4);
    }

    .stage-title {
      text-align: center;
      margin-top: 24px;
      margin-bottom: 10px;
    }

    .stage-title-main {
      display: inline-flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 6px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 4px 10px rgba(0,0,0,.25);
      font-size: 15px;
      font-weight: 800;
      color: var(--xmas-red);
    }

    .stage-title-main span.emoji {
      font-size: 22px;
    }

    .stage-title-main strong.big {
      font-size: 18px;
      color: #e3254b;
    }

    .stage-title-sub {
      margin-top: 6px;
      font-size: 13px;
      opacity: .9;
    }

    .stage-title-sub span {
      color: var(--xmas-green);
      font-weight: 700;
    }

    .content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      padding: 8px 4px;
    }

    .present-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .present-icon-wrap {
      width: 180px;
      height: 180px;
      border-radius: 40px;
      background:
        radial-gradient(circle at 25% 15%, #ffffff, #ffeaf4 55%, #ffd6f0 100%);
      box-shadow: 0 20px 32px rgba(0,0,0,.3);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      border: 3px solid rgba(255,255,255,0.8);
    }

    .present-icon-wrap::before {
      content: "PO¬∑TORO XMAS";
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(64,32,32,0.7);
    }

    .present-icon {
      font-size: 86px;
      transition: transform .15s ease-out;
    }

    .present-glow {
      position: absolute;
      width: 190%;
      height: 190%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,.85), transparent 60%);
      opacity: 0;
      pointer-events: none;
      transition: opacity .3s;
    }

    .present-label {
      font-size: 15px;
      margin-top: 6px;
      font-weight: 700;
    }

    .present-label strong {
      color: #e3254b;
    }

    .hint-label {
      font-size: 12px;
      opacity: .8;
    }

    .btn-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-top: 8px;
    }

    .btn-main {
      border: none;
      border-radius: 999px;
      padding: 12px 50px;
      font-size: 20px;
      font-weight: 900;
      letter-spacing: .18em;
      text-transform: uppercase;
      background:
        radial-gradient(circle at 10% 0, #ffffff, transparent 55%),
        linear-gradient(90deg, var(--xmas-red), #ff6f91);
      color: #fff;
      box-shadow:
        0 10px 22px rgba(0,0,0,.45),
        0 0 0 2px rgba(255,255,255,0.9);
      cursor: pointer;
      transform: translateY(0);
      transition: transform .08s ease-out, box-shadow .08s ease-out, opacity .15s;
    }

    .btn-main:active {
      transform: translateY(3px);
      box-shadow: 0 6px 14px rgba(0,0,0,.4);
    }

    .btn-main[disabled] {
      opacity: .5;
      cursor: default;
      transform: translateY(3px);
      box-shadow: 0 6px 14px rgba(0,0,0,.3);
    }

    .rule-text {
      font-size: 13px;
      opacity: .9;
      text-align: center;
      line-height: 1.5;
    }

    .rule-text strong {
      color: var(--xmas-green);
    }

    .footer {
      text-align: center;
      font-size: 11px;
      opacity: .9;
      margin-top: 4px;
    }

    .footer span.brand {
      font-weight: 800;
      letter-spacing: .2em;
      text-transform: uppercase;
    }

    .footer span.copy {
      margin-left: 6px;
      font-size: 10px;
    }

    /* ===== ÁµêÊûú„É¢„Éº„ÉÄ„É´ ===== */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 30% 0, rgba(255,255,255,0.9), rgba(0,0,0,.55));
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease-out;
      z-index: 50;
    }

    .modal-backdrop.show {
      opacity: 1;
      pointer-events: auto;
    }

    .modal {
      width: min(92vw, 430px);
      background: radial-gradient(circle at 50% 0, #fff7e0, #fffdfb 55%, #ffe3f2 100%);
      border-radius: 22px;
      box-shadow:
        0 20px 45px rgba(0,0,0,.45),
        0 0 0 3px rgba(255,255,255,0.9),
        0 0 0 6px rgba(227,37,75,0.45);
      padding: 16px 14px 14px;
      text-align: center;
      transform: translateY(20px) scale(.96);
      opacity: 0;
      transition: transform .2s ease-out, opacity .2s ease-out;
      position: relative;
      overflow: hidden;
    }

    .modal::before {
      content: "‚ú¶";
      position: absolute;
      top: 10px;
      left: 16px;
      font-size: 18px;
      color: rgba(255,255,255,0.9);
      text-shadow: 0 0 8px rgba(0,0,0,.35);
    }

    .modal::after {
      content: "‚ú¶";
      position: absolute;
      top: 10px;
      right: 16px;
      font-size: 18px;
      color: rgba(255,255,255,0.9);
      text-shadow: 0 0 8px rgba(0,0,0,.35);
    }

    .modal-backdrop.show .modal {
      transform: translateY(0) scale(1);
      opacity: 1;
    }

    .modal-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      font-size: 13px;
      padding: 4px 14px;
      margin-bottom: 8px;
      font-weight: 800;
      letter-spacing: .16em;
      text-transform: uppercase;
    }

    .modal-badge.ok {
      background: linear-gradient(90deg, #ffd56b, #fff4c2);
      color: #7b4b00;
      box-shadow: 0 4px 10px rgba(0,0,0,.25);
    }

    .modal-badge.sub {
      background: linear-gradient(90deg, #ffb5d1, #ffe3f3);
      color: #8c1e4a;
      box-shadow: 0 4px 10px rgba(0,0,0,.25);
    }

    .modal-badge.ng {
      background: #eeeeee;
      color: #555;
      box-shadow: 0 4px 10px rgba(0,0,0,.25);
    }

    .modal-rank {
      font-size: 30px;
      font-weight: 900;
      margin-bottom: 4px;
      color: var(--xmas-red);
      text-shadow: 0 0 6px rgba(255,255,255,0.9);
    }

    .modal-prize-name {
      font-size: 17px;
      margin-bottom: 6px;
      font-weight: 700;
    }

    .modal-desc {
      font-size: 14px;
      opacity: .9;
      margin-bottom: 12px;
      line-height: 1.6;
    }

    .modal-note {
      font-size: 12px;
      opacity: .85;
      margin-bottom: 12px;
      line-height: 1.5;
    }

    .modal-btn {
      border: none;
      border-radius: 999px;
      padding: 9px 30px;
      font-size: 15px;
      font-weight: 800;
      background: linear-gradient(90deg, #ff9a9e, #fecfef);
      color: #5b2730;
      box-shadow: 0 8px 18px rgba(0,0,0,.35);
      cursor: pointer;
    }

    /* Á∞°Êòì„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-4px); }
      50% { transform: translateX(4px); }
      75% { transform: translateX(-2px); }
      100% { transform: translateX(0); }
    }

    .shaking {
      animation: shake .25s linear infinite;
    }

    @media (min-height: 820px) {
      .present-icon-wrap {
        width: 200px;
        height: 200px;
      }
      .present-icon {
        font-size: 96px;
      }
    }
  </style>
</head>
<body>
  <!-- Èõ™„É¨„Ç§„É§„ÉºÔºàË£ÖÈ£æÁî®Ôºâ -->
  <div class="snow-layer">
    <div class="snow">‚ùÑ</div>
    <div class="snow">‚ú∂</div>
    <div class="snow">‚ùÑ</div>
    <div class="snow">‚ú∂</div>
    <div class="snow">‚ùÑ</div>
    <div class="snow">‚ú∂</div>
    <div class="snow">‚ùÑ</div>
    <div class="snow">‚ú∂</div>
  </div>

  <div class="app">
    <header class="header">
      <div class="xmas-banner">
        <div class="logo-text">
          <!-- ÁîªÂÉè„É≠„Ç¥„Çí‰Ωø„ÅÜÂ†¥Âêà„ÅØ <span> „Çí <img> „Å´Â∑Æ„ÅóÊõø„Åà -->
          <!-- <img src="logo.png" alt="PO„ÉªTORO" style="height:32px;"> -->
          <span>PO„ÉªTORO</span>
        </div>
      </div>
      <div class="subtitle">
        <strong>„ÇØ„É™„Çπ„Éû„ÇπÂª∂Èï∑„Åè„Åò</strong>
      </div>
      <div class="subline">
        Âª∂Èï∑„Åó„Å¶„Åè„Å†„Åï„Å£„Åü„Åî‰∏ª‰∫∫Êßò„Å´„ÄÅ„Çµ„É≥„Çø„É°„Ç§„Éâ„Åã„Çâ„ÉØ„É≥„Çø„ÉÉ„Éó„Éó„É¨„Çº„É≥„Éà‚ô°
      </div>
    </header>

    <main class="main-card">
      <div class="card-garland"></div>
      <div class="ribbon-label">XMAS EXTENSION</div>

      <div class="stage-title">
        <div class="stage-title-main">
          <span class="emoji">üéÑ</span>
          <span><strong class="big">Âª∂Èï∑„Åî„Å®„Å´ 1 Âõû!!</strong> „ÉÅ„É£„É¨„É≥„Ç∏</span>
        </div>
        <div class="stage-title-sub">
          „Çµ„É≥„Çø„É°„Ç§„Éâ„Å®‰∏ÄÁ∑í„Å´ <span>„Éó„É¨„Çº„É≥„Éà„Éú„ÉÉ„ÇØ„Çπ</span> „Çí„Ç™„Éº„Éó„É≥‚ô™
        </div>
      </div>

      <div class="content">
        <div class="present-area">
          <div class="present-icon-wrap">
            <div class="present-glow" id="present-glow"></div>
            <div class="present-icon" id="present-icon">üéÅ</div>
          </div>
          <div class="present-label">
            <strong>Â§ß„Åç„Å™„Éú„Çø„É≥„Çí 1 „Çø„ÉÉ„Éó</strong> „ÅßÁµêÊûú„ÅåÂá∫„Åæ„Åô
          </div>
          <div class="hint-label">
            ‚Äª„Åî‰∏ª‰∫∫Êßò„Å®„É°„Ç§„Éâ„Åï„Çì„Åß„Äå„Åõ„Éº„ÅÆ„Äç„ÅßÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ
          </div>
        </div>

        <div class="btn-area">
          <button class="btn-main" id="btn-draw">„Éó„É¨„Çº„É≥„Éà„Çí„ÅÇ„Åë„Çã</button>
          <div class="rule-text">
            Âª∂Èï∑ <strong>1 „Çª„ÉÉ„Éà„Å´„Å§„Åç 1 Âõû</strong> „ÅÆ„ÅîÂèÇÂä†„Åß„Åô„ÄÇ<br>
            Âá∫„ÅüÁµêÊûú„Å´Âêà„Çè„Åõ„Å¶„ÄÅ„É°„Ç§„Éâ„Åï„Çì„Åã„ÇâÁâπÂÖ∏„Çí„ÅîÊ°àÂÜÖ„Åó„Åæ„Åô„ÄÇ
          </div>
        </div>
      </div>

      <footer class="footer">
        <span class="brand">PO„ÉªTORO</span>
        <span class="copy">CHRISTMAS EVENT</span>
      </footer>
    </main>
  </div>

  <!-- ÁµêÊûú„É¢„Éº„ÉÄ„É´ -->
  <div class="modal-backdrop" id="result-modal">
    <div class="modal" role="dialog" aria-modal="true">
      <div id="modal-badge" class="modal-badge">ÁµêÊûú</div>
      <div id="modal-rank" class="modal-rank">SË≥û</div>
      <div id="modal-prize-name" class="modal-prize-name">„Çµ„É≥„Çø„É°„Ç§„Éâ„Çπ„Éö„Ç∑„É£„É´</div>
      <div id="modal-desc" class="modal-desc">
        „Çµ„É≥„Çø„Ç≥„Çπ„ÅÆ„É°„Ç§„Éâ„Åï„Çì„Åã„Çâ„ÄÅ„Å®„Å£„Å¶„Åä„Åç„ÅÆ„Éó„É¨„Çº„É≥„Éà‚ô°
      </div>
      <div id="modal-note" class="modal-note">
        ÁâπÂÖ∏ÂÜÖÂÆπ„ÅØ„É°„Ç§„Éâ„Åï„Çì„Å´„ÅîÁ¢∫Ë™ç„Åè„Å†„Åï„ÅÑ„ÄÇ
      </div>
      <button class="modal-btn" id="btn-close-modal">OK</button>
    </div>
  </div>

  <script>
    // ===== Ë®≠ÂÆö„Ç®„É™„Ç¢ =====
    // ‚òÖ„Åì„Åì„ÇíÊõ∏„ÅçÊèõ„Åà„Çã„Å†„Åë„Åß„ÄåÊôØÂìÅ„ÅÆÂêçÂâç„ÉªË™¨Êòé„ÉªÁ¢∫Áéá„Äç„ÇíÁ∞°Âçò„Å´Ë™øÊï¥„Åß„Åç„Åæ„Åô„ÄÇ
    const PRIZES = [
      {
        id: "S",
        rankLabel: "SË≥û",
        prizeName: "„Çµ„É≥„Çø„É°„Ç§„Éâ „Çπ„Éö„Ç∑„É£„É´ÁâπÂÖ∏",
        desc: "Êú¨Êó•„ÅÆ„Åî‰∏ª‰∫∫Êßò„ÄÅÂ§ßÂ§ßÂ§ß„ÅÇ„Åü„Çä„Åß„Åô‚Ä¶ÔºÅ„Çµ„É≥„Çø„É°„Ç§„Éâ„Åã„ÇâÁâπÂà•„Å™„Éó„É¨„Çº„É≥„Éà„Çí„ÅäÂ±ä„Åë„Åó„Åæ„Åô‚ô°",
        note: "‰æãÔºö„ÇØ„É™„Çπ„Éû„Çπ„ÉÅ„Çß„Ç≠„Çµ„Éº„Éì„Çπ„ÄÅÁõ¥Á≠Ü„É°„ÉÉ„Çª„Éº„Ç∏„Ç´„Éº„Éâ„Å™„Å©„ÄÇ",
        badgeType: "ok",
        weight: 3  // ‚òÖÂá∫„Å´„Åè„ÅÑÔºàÊï∞Â≠ó„ÇíÂ∞è„Åï„Åè„Åô„Çã„Å®„É¨„Ç¢„Å´„Å™„Çä„Åæ„ÅôÔºâ
      },
      {
        id: "A",
        rankLabel: "AË≥û",
        prizeName: "„ÇØ„É™„Çπ„Éû„Çπ„ÅîË§íÁæé",
        desc: "„Çµ„É≥„Çø„É°„Ç§„Éâ„Åã„Çâ„ÅÆ„ÅîË§íÁæé„Éó„É¨„Çº„É≥„Éà„Åß„Åô‚ô™",
        note: "‰æãÔºö„Éâ„É™„É≥„ÇØÂâ≤Âºï„ÄÅ„Éà„ÉÉ„Éî„É≥„Ç∞„Çµ„Éº„Éì„Çπ„Å™„Å©„ÄÇ",
        badgeType: "ok",
        weight: 15
      },
      {
        id: "B",
        rankLabel: "BË≥û",
        prizeName: "„Åä„Åã„Åó„Éó„É¨„Çº„É≥„Éà",
        desc: "„É°„Ç§„Éâ„Åï„Çì„Åä„Åô„Åô„ÇÅ„ÅÆ„Åä„Åã„Åó„Çí„Éó„É¨„Çº„É≥„Éà‚ô°",
        note: "ÂÜÖÂÆπ„ÅØÊó•„Å´„Çà„Å£„Å¶Â§â„Çè„Çã„Åã„ÇÇ‚Ä¶Ôºü„ÅäÊ•Ω„Åó„Åø„Å´ÔºÅ",
        badgeType: "sub",
        weight: 32
      },
      {
        id: "C",
        rankLabel: "CË≥û",
        prizeName: "„Çµ„É≥„Çø„É°„ÉÉ„Çª„Éº„Ç∏",
        desc: "„Çµ„É≥„Çø„É°„Ç§„Éâ„Åã„Çâ„ÅÆ„Å≤„Å®„Åì„Å®„É°„ÉÉ„Çª„Éº„Ç∏„Çí„ÅäÂ±ä„Åë„Åó„Åæ„Åô„ÄÇ",
        note: "„ÅØ„Åö„Çå„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Åî‰∏ª‰∫∫Êßò„Å®ÈÅé„Åî„Åõ„ÇãÊôÇÈñì„Åå„ÄÅ„ÅÑ„Å°„Å∞„Çì„ÅÆ„Éó„É¨„Çº„É≥„Éà„Åß„Åô‚ô°",
        badgeType: "ng",
        weight: 50
      }
    ];
    // =====================

    const btnDraw = document.getElementById("btn-draw");
    const presentIcon = document.getElementById("present-icon");
    const presentGlow = document.getElementById("present-glow");

    const modalBackdrop = document.getElementById("result-modal");
    const modalBadge = document.getElementById("modal-badge");
    const modalRank = document.getElementById("modal-rank");
    const modalPrizeName = document.getElementById("modal-prize-name");
    const modalDesc = document.getElementById("modal-desc");
    const modalNote = document.getElementById("modal-note");
    const btnCloseModal = document.getElementById("btn-close-modal");

    let isDrawing = false;

    function pickPrize() {
      const total = PRIZES.reduce((sum, p) => sum + p.weight, 0);
      const r = Math.random() * total;
      let acc = 0;
      for (const p of PRIZES) {
        acc += p.weight;
        if (r <= acc) return p;
      }
      return PRIZES[PRIZES.length - 1];
    }

    function showResult(prize) {
      modalRank.textContent = prize.rankLabel;
      modalPrizeName.textContent = prize.prizeName;
      modalDesc.textContent = prize.desc;
      modalNote.textContent = prize.note || "";

      modalBadge.className = "modal-badge";
      if (prize.badgeType === "ok") {
        modalBadge.classList.add("ok");
        modalBadge.textContent = "Â§ßÂΩì„Åü„Çä";
      } else if (prize.badgeType === "sub") {
        modalBadge.classList.add("sub");
        modalBadge.textContent = "„Åä„ÇÅ„Åß„Å®„ÅÜ";
      } else {
        modalBadge.classList.add("ng");
        modalBadge.textContent = "„Éó„É¨„Çº„É≥„Éà";
      }

      modalBackdrop.classList.add("show");
    }

    function startDraw() {
      if (isDrawing) return;
      isDrawing = true;
      btnDraw.disabled = true;

      presentGlow.style.opacity = 1;
      presentIcon.classList.add("shaking");

      // „Ç∑„É≥„Éó„É´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Ôºö0.8ÁßíÂæå„Å´ÁµêÊûú
      setTimeout(() => {
        presentGlow.style.opacity = 0;
        presentIcon.classList.remove("shaking");
        const prize = pickPrize();
        showResult(prize);
      }, 800);
    }

    function resetForNext() {
      modalBackdrop.classList.remove("show");
      btnDraw.disabled = false;
      isDrawing = false;
    }

    // „Ç§„Éô„É≥„ÉàÁôªÈå≤
    btnDraw.addEventListener("click", startDraw);
    btnDraw.addEventListener("touchend", (e) => {
      e.preventDefault();
      startDraw();
    });

    btnCloseModal.addEventListener("click", resetForNext);
    btnCloseModal.addEventListener("touchend", (e) => {
      e.preventDefault();
      resetForNext();
    });

    modalBackdrop.addEventListener("click", (e) => {
      if (e.target === modalBackdrop) {
        resetForNext();
      }
    });
  </script>
</body>
</html>
